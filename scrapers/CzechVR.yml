name: "CzechVR"
sceneByName:
  action: scrapeXPath
  scraper: sceneByName
  queryURL: https://www.czechvr.com/searching?search={}

sceneByQueryFragment:
  action: scrapeXPath
  scraper: sceneScraper
  queryURL: "{url}"

sceneByURL:
  - action: scrapeXPath
    url:
      - czechar.com
      - czechvr.com
      - czechvrcasting.com
      - czechvrfetish.com
      - czechvrnetwork.com
      - vrintimacy.com
    scraper: sceneScraper
movieByURL:
  - action: scrapeXPath
    url:
      - czechar.com
      - czechvr.com
      - czechvrcasting.com
      - czechvrfetish.com
      - czechvrnetwork.com
      - vrintimacy.com
    scraper: movieScraper

xPathScrapers:
  sceneByName:
    common:
      $card: //div[contains(concat(' ',normalize-space(@class),' '),' postTag ')]
    scene:
      Title: $card//h2
      URL:
        selector: $card//div[@class='desktop']/a/@href
        postProcess:
          - replace:
              - regex: ^\.
                with: https://www.czechvr.com
      Image:
        selector: $card//div[@class='desktop']/a/img/@src
        postProcess:
          - replace:
              - regex: ^\.
                with: https://www.czechvr.com

  sceneScraper:
    common:
      $info: &infoSel //div[@class="post"]
      $url: &urlSel //meta[@name="dl8-customization-brand-url"]/@content
    scene:
      URL: //link[@rel='canonical']/@href
      Title: &title
        # Czech VR Network uses h1, the substudios use h2
        selector: &titleSel $info//h1|$info//h2
        postProcess:
          - replace:
              - regex: ".+ - "
                with:
      Code:
        selector: //title
        postProcess:
          - replace:
              - regex: ^Czech\sVR\s(\d+).+
                with: $1
      Date: &date
        selector: $info//div[@class="datum"]/text()
        postProcess:
          - parseDate: Jan 2, 2006
      Details: &detailsSel //div[@class="text"]/text()
      Tags:
        Name: //div[@class="tag new"]/a/text()
      Performers:
        Name: $info//div[@class="modelky"]//a//span/text()
      Studio: &studio
        Name:
          selector: *titleSel
          postProcess:
            - replace:
              - regex: "\\d* - .+"
                with:
      Image: &image
        selector: $url|//dl8-video/@poster
        concat: " "
        postProcess:
          - replace:
              - regex: \s\./category
                with: /category
          - replace:
              - regex: \/\/
                with: "/"
          - replace:
              - regex: :\/
                with: "://"
  movieScraper:
    common:
      $info: *infoSel
      $url: *urlSel
    movie:
      Name: *title
      Duration: $info//div[@class="cas"]/text()
      Date: *date
      Studio: *studio
      Synopsis: *detailsSel
      FrontImage: *image

driver:
  useCDP: true
  cookies:
    - CookieURL: "https://www.czechvr.com"
      Cookies:
        - Name: "iagree"
          Domain: ".czechvr.com"
          Value: "ano"
          Path: "/"
  headers:
    - Key: User-Agent
      Value: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:137.0) Gecko/20100101 Firefox/137.0
#    - Key: Referer
#      Value: https://www.czechvr.com/

# Last Updated April 5, 2025
