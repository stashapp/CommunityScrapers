# yaml-language-server: $schema=../validator/scraper.schema.json
name: RealJamVR
sceneByURL: &byURL
  - action: scrapeXPath
    url:
      - realjamvr.com/scene/
      - porncornvr.com/scene
    scraper: sceneScraper

galleryByURL: *byURL

xPathScrapers:
  sceneScraper:
    scene:
      Title: &title
        selector: //h1
        postProcess:
          - replace:
              - regex: ^\s+(.+)\s+$
                with: $1
      Date: &date
        selector: //div[@class="specs-icon"]/following-sibling::strong
        postProcess:
          - replace:
            - regex: ^([a-zA-Z]{3})\D*(\d{1,2},\s*\d+)$
              with: $1. $2
          - parseDate: Jan. 2, 2006
      Performers: &performers
        Name: //div[contains(@class,"scene-view")]/a[contains(@href,"/actor/")]
      Tags: &tags
        Name:
          selector: //a[starts-with(@href, "/scenes") and @class="tag"]/text() | //div[not(@class)]/div[@class="specs-icon"]
          postProcess:
            - replace:
                # use the duration "specs-icon" as a fixed value replacement "hack"
                - regex: \d+:\d+:\d+
                  with: Virtual Reality
      Details: &details
        selector: //div[contains(@class, "collapse-content-wrapper")]/div[contains(@class, "collapse-content")]
      Image:
        selector: //*[@id="video-player"]//@poster
      Studio: &studio
        Name:
          selector: //title
          postProcess:
          - replace:
              - regex: '(.*)\| ([^\|]+VR)$'
                with: $2
      Code:
        selector: //dl8-video/source[1]/@src
        postProcess:
          - replace:
              - regex: .*/scenes/(\d+)/.*
                with: $1
    gallery:
      Title: *title
      Date: *date
      Performers: *performers
      Tags: *tags
      Details: *details
      Studio: *studio
      
# Last Updated January 8, 2025
