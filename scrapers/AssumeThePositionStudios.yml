name: "Assume The Position Studios"
sceneByURL:
  - action: scrapeXPath
    url:
      - assumethepositionstudios.com
    scraper: sceneScraper
#Handy tip: https://assumethepositionstudios.com/api/site/13/updates/0
xPathScrapers:
  sceneScraper:
    scene:
      Title:
        selector: //h2[@class='ng-binding']
        split: "-"
#The tags and description are in the same block of text so do this garbage to split them up
      Details:
        selector: //div[contains(@class, 'description')]//p[@class='ng-binding']
        postProcess:
          - replace:
            - regex: (.*?)[A-Z,'\s]+\.?$
              with: $1
      Tags:
        Name: 
          selector: //div[contains(@class, 'description')]//p[@class='ng-binding']
          postProcess:
            - replace:
              - regex: (.*?)([A-Z,'\s]+)\.?$
                with: $2
          split: ","
      Date:
        selector: //div[@class='videoinfo clear']/p[@class='ng-binding']
        postProcess:
          - replace:
            - regex: (\w+?)\.\s*(\d+),\s*(\d+)
              with: $1 $2, 20$3
          - parseDate: Jan 02, 2006
#This is the xpath if the image is actually in the update page.  Videos don't have the image so you have to build the
#url
      #Image:
        #selector: //img[contains(@class, 'trailer_image')]/@ng-src
        #postProcess:
          #- replace:
            #- regex: ^
              #with: "https://assumethepositionstudios.com"
      Image:
        selector: //img[contains(@class, 'trailer_image')]/@ng-src|//videogular[contains(@class, 'player')]//video/@src
        postProcess:
          - replace:
            - regex: ^/content/(\d+)
              with: "https://assumethepositionstudios.com/content/$1/images/default.jpg"

      Studio:
        Name:
          fixed: Assume The Position Studios
      Performers:
        Name:
          selector: //p[@class='models']/span[contains(@class, 'model_name')]
          postProcess:
            - replace:
              - regex: \,
                with: ""
driver:
  useCDP: true
  cookies:                                                                    
    - Cookies:                  
        - Name: "sonWarning"   
          Domain: "assumethepositionstudios.com" 
          Value: "1"                                   
          Path: "/"

# Last Updated September 10, 2022
