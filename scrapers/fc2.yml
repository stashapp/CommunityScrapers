name: FC2-JP
sceneByURL:
  - action: scrapeXPath
    url:
      - https://adult.contents.fc2.com/article
    scraper: sceneScraper
sceneByFragment:
  action: scrapeXPath
  queryURL: https://adult.contents.fc2.com/article/{filename}/
  # constructs the movie URL from the filename, provided that the filename includes the movie id
  queryURLReplace:
    filename:
      - regex: .*?(\d{5,}).*
        with: $1
  scraper: sceneScraper
groupByURL:
  - action: scrapeXPath
    url:
      - https://adult.contents.fc2.com/article
    scraper: movieScraper

xPathScrapers:
  sceneScraper:
    scene:
      Title: 
        selector: //div[@class='items_article_headerInfo']/h3/text()
        concat: " "
        postProcess:
            - replace:
                - regex: '\s+'
                  with: ""
      Details: 
        selector: //script[@data-template-name="image-lazy-cushion"]/following-sibling::div/text()
      URLs: /html/head/meta[@property="og:url"]/@content
      Date:
        selector: //*[@id="top"]/div[1]/section[1]/div/section/div[2]/div[2]/p/text()
        postProcess:
          - replace:
              - regex: .*(\d{4})[./-]?(\d{2})[./-]?(\d{2}).*
                with: $1-$2-$3
          - parseDate: 2006-01-02
      Performers:
        Name: //*[@id="top"]/div[1]/section[1]/div/section/div[2]/ul/li[3]/a/text()
      Tags:
        Name: //a[@class='tag tagTag']/text()
      Image: 
        selector: //div[@class='items_article_MainitemThumb']/span/img/@src
        postProcess:
            - replace:
                - regex: ^
                  with: "https:"
      Director:
        selector: //section[@class="items_comment_sellerBox"]/div/div/h4/a
      Studio:
        Name:
          selector: /html/head/title/text() 
          postProcess:
            - replace:
                - regex: .*(FC2).*
                  with: $1
      Code:
        selector: //meta[@name="description"]/@content
        postProcess:
          - replace:
              - regex: (?s).*?(FC2-PPV-\d+).*
                with: $1

  movieScraper:
    group:
      Name: 
        selector: //div[@class='items_article_headerInfo']/h3/text()
        concat: " "
        postProcess:
            - replace:
                - regex: \s+
                  with: ""
      Synopsis: 
        selector: //script[@data-template-name="image-lazy-cushion"]/following-sibling::div/text()
      URLs: /html/head/meta[@property="og:url"]/@content
      Date:
        selector: //*[@id="top"]/div[1]/section[1]/div/section/div[2]/div[2]/p/text()
        postProcess:
          - replace:
              - regex: .*(\d{4})[./-]?(\d{2})[./-]?(\d{2}).*
                with: $1-$2-$3
          - parseDate: 2006-01-02
      FrontImage: 
        selector: //div[@class='items_article_MainitemThumb']/span/img/@src
        postProcess:
            - replace:
                - regex: ^
                  with: "https:"
      Director:
        selector: //section[@class="items_comment_sellerBox"]/div/div/h4/a
      Studio:
        Name:
          selector: /html/head/title/text() 
          postProcess:
            - replace:
                - regex: .*(FC2).*
                  with: $1
      Tags:
        Name: //a[@class='tag tagTag']/text()
# Last Updated January 3, 2025
