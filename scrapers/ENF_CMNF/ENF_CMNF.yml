name: "ENF-CMNF.cc"

sceneByURL:
  - action: scrapeXPath
    url:
      - enf-cmnf.cc/20
    scraper: sceneScraper
    
sceneByName:
  action: scrapeXPath
  queryURL: https://enf-cmnf.cc/?s={}
  scraper: searchScraper
  
sceneByQueryFragment:
  action: scrapeXPath
  queryURL: "{url}"
  scraper: sceneScraper

xPathScrapers:
  searchScraper:                 # search-results page
    common:
      $card: //article[contains(@class,"post")]
    scene:
      Title: $card//h2[@itemprop="headline"]/a/text()
      URL: $card//h2[@itemprop="headline"]/a/@href
      Image: $card//img[contains(@class,"attachment-large")]/@src

  sceneScraper:                # detail page
    common:
      $content: //div[contains(@class,"entry-content")]
    scene:
      Title: //h1[@class="entry-title"]/text()
      Details:
        # pull all <p> tags, but avoid the HTML5 error message.
        selector: $content//p[not(@class)]//text()
        concat: " "
      Image: $content//video/@poster
      URL: //link[@rel="canonical"]/@href
      Date:
        selector: //meta[@property="article:published_time"]/@content
        postProcess:
          - parseDate: "2006-01-02T15:04:05Z07:00"
