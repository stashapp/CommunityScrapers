name: Boobpedia
performerByURL:
  - action: scrapeXPath
    url:
      - boobpedia.com/boobs/
    scraper: performerScraper
performerByName:
  action: scrapeXPath
  queryURL: "https://www.boobpedia.com/wiki/index.php?title=Special%3ASearch&search={}"
  scraper: performerSearch
xPathScrapers:
  performerSearch:
    common:
      $sr: //div/h2[span[contains(text(),"title")]]/following-sibling::ul[1]//a
    performer:
      Name: $sr
      URL:
        selector: $sr/@href
        postProcess:
          - replace:
              - regex: ^
                with: "https://www.boobpedia.com"
  performerScraper:
    performer:
      Name: //h1     
      Gender:
        fixed: "Female"
      Twitter: //table//tr/td/b[text()='Twitter']/../following-sibling::td//@href
      Instagram: //table//tr/td/b[text()='Instagram']/../following-sibling::td//@href
      Birthdate:
        selector: //table//tr/td//b[text()='Born']/../following-sibling::td/a
        concat: " "
        postProcess:
          - replace:
              - regex: (.*\d\d\d\d).*
                with: $1
          - parseDate: January 2 2006
      Ethnicity: //table//tr/td/b[text()='Ethnicity']/../following-sibling::td/a
      Country: //table//tr/td/b[text()='Nationality']/../following-sibling::td/a
      EyeColor: //table//tr/td/b[text()='Eye color']/../following-sibling::td
      Height:
        selector: //table//tr/td/b[text()='Height']/../following-sibling::td
        postProcess:
          - replace:
              - regex: (?:.+\D)?(\d+\.\d+)\Dm.+
                with: $1
              - regex: \.
                with: ""
      Weight:
        selector: //table//tr/td/b[text()='Weight']/../following-sibling::td
        postProcess:
          - replace:
              - regex: (?:.+\D)?(\d+)\Dkg.+
                with: $1
      Measurements:
        selector: //table//tr/td/b[text()='Measurements']/../following-sibling::td|//table//tr/td[contains(b,'cup')]/following-sibling::td
        concat: "|"
        postProcess:
          - replace:
              - regex: (\d+)-(\d+)-(\d+)[^|]*\|(\S+).+ # get measurements + cup
                with: $4-$2-$3
              - regex: \|.+$ # fallback to clear non matching regexes
                with: ""
              - regex: \[\d*\] # Remove References
                with: ""
              - regex: ( in) # Remove Unit Inches
                with: ""
      FakeTits: //table//tr/td/b[text()='Boobs']/../following-sibling::td/a
      HairColor:
        selector: //table//tr/td[contains(b,'Hair')]/following-sibling::td//text()
        concat: ", "
        postProcess:
          - replace:
              - regex: (,,)
                with: ","
              - regex: ( , )
                with: " "
      # nbsp; screws up the parsing, so use contains instead
      CareerLength:
        selector: //table//tr/td/b[text()[contains(.,'active')]]/../following-sibling::td
        postProcess:
          - replace:
              - regex: (present)
                with: "Present"
              - regex: (current)
                with: "Present"
      Aliases: //table//tr/td/b[text()[contains(.,'known')]]/../following-sibling::td
      Image:
        #selector: //table[@class="infobox"]//img/@src #alterntive image, no need for subScraper but gets lq image
        selector: //table[@class="infobox plainlinks"]//a[img[@src]]/@href
        postProcess:
          - replace:
              - regex: ^
                with: https://www.boobpedia.com
          - subScraper:
              selector: //div[@id="file"]/a/@href
              postProcess:
                - replace:
                    - regex: ^
                      with: https://www.boobpedia.com
      URL:
        selector: //script[contains(.,"wgPageName")]
        postProcess:
          - replace:
              - regex: '.+wgPageName":"([^"]+)".+'
                with: "https://www.boobpedia.com/boobs/$1"
      Details:
        selector: //div[@class="mw-parser-output"]/p
        concat: "\n\n"
        postProcess:
          - replace:
              # Remove References
              - regex: \[\d*\]
                with: ""
              # Remove <protect> and </protect>, which appears in the details of some performers (e.g. Jenna Jameson)
              - regex: (<protect>)
                with: ""
              - regex: (</protect>)
                with: ""
              # Remove triple line breaks
              - regex: \n\n\n
                with: "\n"
# Last Updated December 30, 2022
